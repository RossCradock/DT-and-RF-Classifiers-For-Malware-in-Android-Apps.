clear all;

% load unseen test data
test_data = readtable('full_test.csv','ReadVariableNames', true);

% load the saved models
decision_tree_mdl = load('decision_tree_model.mat');
random_forest_boosted_mdl = load('random_forest_boosted.mat');
random_forest_bagged_mdl = load('random_forest_bagged.mat');

% calculate the accuracy for each model agaist the test data
DT = loss(decision_tree_mdl.ctree, test_data, 'class');
RF_boosted = loss(random_forest_boosted_mdl.Mdl, test_data, 'class');
cp = classperf(random_forest_bagged_mdl.Mdl.predict(test_data), test_data.class);

% print out results
fprintf('DT accuracy: %f\n', (1 - DT) * 100);
fprintf('RF boosted accuracy: %f\n', (1 - RF_boosted) * 100);
fprintf('RF bagged accuracy: %f\n', cp.CorrectRate * 100);