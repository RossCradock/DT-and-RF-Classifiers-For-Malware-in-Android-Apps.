clear all;

% Load data
full_data = readtable('full_training.csv','ReadVariableNames', true);

% initialise number of iterations desired
iterations = 5;

% initialise the losses array
losses = ones(iterations, size(methods, 2));

% eligible methods for learn rate
methods = ["AdaBoostM1", "LogitBoost", "GentleBoost", "RUSBoost"];

% for loop to run through iterations
for i = 1:iterations
    % for loop to run through each method    
    for j = 1:size(methods)
        % train model using method with set values
        Mdl = fitcensemble(full_data, 'class', 'Method', methods(j), ...
            'NumLearningCycles', 200, 'LearnRate', 0.001, 'Kfold', 12);
        % calculate the missclassification error rate
        loss = kfoldLoss(Mdl);
        
        % append the error to vector of errors
        losses(i, j) = loss;

        % display the method and accuracy while the script is running
        fprintf("Iteration: %d  Method: %s  Accuracy: %f\n", ...
            i, methods(j), (1 - loss) * 100);
    end
end

